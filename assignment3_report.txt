ОТЧЕТ ПО ЗАДАНИЮ 3: СИМВОЛЬНЫЙ АВТОМАТ
====================================

1. НАЗНАЧЕНИЕ АВТОМАТА:
   Символьный автомат реализует некомбинационную часть управляющего автомата
   передатчика UART. Он управляет последовательностью передачи данных через
   UART интерфейс, включая выбор ячеек матрицы для передачи.

2. ОСНОВНЫЕ КОМПОНЕНТЫ АВТОМАТА:
   - 6 состояний (IDLE, START_BIT, DATA_BITS, PARITY_BIT, STOP_BIT, NEXT_CELL)
   - Входные сигналы: action[2:0], div_counter, bit_counter, cells_sent
   - Выходные сигналы: tx, busy, управляющие сигналы для регистров
   - Тактовый сигнал clk и асинхронный сброс rst

3. ОПИСАНИЕ СОСТОЯНИЙ:

   а) IDLE (000):
      - Начальное состояние после сброса
      - Выходы: tx=1 (состояние покоя), busy=0
      - Действия:
        * action=1: запись данных в матрицу (без изменения состояния)
        * action=2..5: переход в START_BIT для начала передачи
        * action=0: бездействие

   б) START_BIT (001):
      - Передача стартового бита (логический 0)
      - Выходы: tx=0, busy=1
      - Ожидание DIV-1 тактов, затем переход в DATA_BITS

   в) DATA_BITS (010):
      - Последовательная передача W битов данных (LSB first)
      - Выходы: tx=очередной бит данных, busy=1
      - После передачи W-го бита:
        * Если PAR=0: переход в STOP_BIT
        * Если PAR≠0: переход в PARITY_BIT

   г) PARITY_BIT (011):
      - Передача бита четности (только если PAR≠0)
      - Выходы: tx=бит четности, busy=1
      - Ожидание DIV-1 тактов, затем переход в STOP_BIT

   д) STOP_BIT (100):
      - Передача стопового бита (логический 1)
      - Выходы: tx=1, busy=1
      - После передачи:
        * Если переданы все ячейки: переход в IDLE
        * Если остались ячейки: переход в NEXT_CELL

   е) NEXT_CELL (101):
      - Выбор следующей ячейки матрицы для передачи
      - Обновление индексов tx_row и tx_col в зависимости от action
      - Всегда переход в START_BIT

4. ПРАВИЛА ПЕРЕХОДА МЕЖДУ СОСТОЯНИЯМИ:

   IDLE → START_BIT      при action ∈ {2,3,4,5}
   START_BIT → DATA_BITS при div_counter = DIV-1
   DATA_BITS → STOP_BIT  при (bit_counter = W-1) ∧ (PAR = 0)
   DATA_BITS → PARITY_BIT при (bit_counter = W-1) ∧ (PAR ≠ 0)
   PARITY_BIT → STOP_BIT при div_counter = DIV-1
   STOP_BIT → IDLE       при (div_counter = DIV-1) ∧ 
                           (cells_sent = cells_to_send)
   STOP_BIT → NEXT_CELL  при (div_counter = DIV-1) ∧
                           (cells_sent < cells_to_send)
   NEXT_CELL → START_BIT всегда

5. ВЗАИМОДЕЙСТВИЕ С ОПЕРАЦИОННЫМ АВТОМАТОМ:

   Управляющий автомат генерирует следующие сигналы для операционного автомата:
   - load_shift_reg: загрузить данные в сдвиговый регистр
   - shift_enable: разрешить сдвиг данных
   - update_bit_counter: увеличить счетчик битов
   - update_div_counter: увеличить счетчик делителя
   - update_cell_indices: обновить индексы ячейки
   - reset_counters: сбросить счетчики

6. ОСОБЕННОСТИ РЕАЛИЗАЦИИ:

   а) Поддержка различных режимов передачи:
      - action=2: передача одной ячейки
      - action=3: передача строки (4 ячейки)
      - action=4: передача столбца (2 ячейки)
      - action=5: передача всей матрицы (8 ячеек)

   б) Гибкая настройка параметров UART:
      - W: разрядность данных (8 бит по умолчанию)
      - DIV: количество тактов на бит (≥3)
      - PAR: режим проверки четности (0-нет, 1-четность, 2-нечетность)

   в) Асинхронный сброс:
      - При rst=1 автомат возвращается в состояние IDLE
      - Все выходные сигналы устанавливаются в значения по умолчанию

7. ДИАГРАММЫ И ВИЗУАЛИЗАЦИЯ:

   Прилагаются следующие файлы:
   - symbolic_automaton.txt: текстовое описание автомата
   - fsm_diagram.ascii: ASCII-диаграмма автомата
   - fsm_formal_description.txt: формальное описание
   - fsm_graphviz.dot: описание в формате Graphviz
   - assignment3_report.txt: данный отчет

8. ПРОВЕРКА КОРРЕКТНОСТИ:

   Автомат был протестирован с помощью тестовых последовательностей,
   которые проверяют:
   - Корректность переходов между состояниями
   - Правильность генерации выходных сигналов
   - Обработку всех значений action
   - Работу с различными значениями параметров

9. ВЫВОДЫ:

   Разработанный символьный автомат полностью удовлетворяет требованиям
   задания. Он обеспечивает корректное управление передачей данных через
   UART интерфейс, поддерживает все требуемые режимы работы и может быть
   использован в качестве управляющего автомата в составе передатчика.

Дата создания: $(date)
